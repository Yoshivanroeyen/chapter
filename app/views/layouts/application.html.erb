  <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>CHAPTER</title>
  <%= csrf_meta_tags %>
  <%= action_cable_meta_tag %>
  <%= stylesheet_link_tag 'application', media: 'all' %>

<link rel="apple-touch-icon" sizes="57x57" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="60x60" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="72x72" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="76x76" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="114x114" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="120x120" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="144x144" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="152x152" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="apple-touch-icon" sizes="180x180" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="icon" type="image/png" sizes="192x192"  href=" <%= cl_image_path 'logo.svg' %>">
<link rel="icon" type="image/png" sizes="32x32" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="icon" type="image/png" sizes="96x96" href="<%= cl_image_path 'logo.svg' %>">
<link rel="icon" type="image/png" sizes="16x16" href=" <%= cl_image_path 'logo.svg' %>">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">



  <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
  <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
</head>
<body>
  <%= render 'shared/navbar' unless @no_navbar %>
  <%= render 'shared/flashes' %>

    <%= yield %>

  <%= javascript_include_tag "//www.google.com/jsapi", "chartkick" %>
  <%= javascript_include_tag 'application' %>
  <%= yield :after_js %>

  <!-- Include AlgoliaSearch JS Client and autocomplete.js library -->
  <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <!-- Initialize autocomplete menu -->


  <script>
    var client = algoliasearch("L4XOTOW05B", "b4f8d8f4c33526b8c662d91def380967");
    var index = client.initIndex('Book');
//initialize autocomplete on search input (ID selector must match)
autocomplete('#aa-search-input',
{ hint: false }, {
    source: autocomplete.sources.hits(index, {hitsPerPage: 4}),
    //value to be displayed in input control after user's suggestion selection
    displayKey: 'name',

    //hash of templates used when rendering dataset
    templates: {
        //'suggestion' templating function used to render a single suggestion
        suggestion: function(suggestion) {
          console.log(suggestion.id);

          return '<a href="/books/'+ suggestion.id +  '"><span>' +
          suggestion._highlightResult.title.value + '</span> - <span>' +
          suggestion._highlightResult.genre.value + '</span></a>';
        }
      }
    });
</script>
</body>
</html>
